[tox]
envlist = py[35,36,37,38,39]-django[22,32,40]

[testenv]
commands = 
    pytest --cov=django_admin_search \
            --cov-config=tox.ini \
            --cov-fail-under=50 \
            --cov-report=term-missing \
            --cov-report=xml:coverage.xml \
            --durations 10 \
            --cov-append
extras = dev
deps =
  pytest
  pytest-cov

[coverage:run]
relative_files = True
source = django_admin_search/
branch = True

[testenv:report]
deps = coverage
skip_install = true
commands =
    coverage report
    coverage html

[testenv:py35]
basepython = python3.5

[testenv:py36]
basepython = python3.6

[testenv:py37]
basepython = python3.7

[testenv:py38]
basepython = python3.8

[testenv:py39]
basepython = python3.9